name: Build Character Generator Starter

concurrency:
  group: pnp-build-${{ github.ref }}
  cancel-in-progress: true

on:
  workflow_dispatch:
  push:
    paths:
      - pom.xml
      - src/**

jobs:
  build-and-deploy:
    uses: Matil86/github-actions/.github/workflows/pipeline-cloud-run-service.yaml@main
    with:
      build_image: character-generator-service
      service_name: character-generator-service
      pom_folder: monolith
      build_native: false
    secrets: inherit